<div class="medical-history-container">
  <header class="navbar">
    <div class="logo">AgroDigital</div>
    <nav class="main-nav">
      <a class="nav-item" routerLink="/dashboard">{{ 'DASHBOARD.ANIMALS' | translate }}</a>
      <a class="nav-item" routerLink="/events">{{ 'DASHBOARD.EVENTS' | translate }}</a>
      <a class="nav-item active" routerLink="/medical-history">{{ 'DASHBOARD.MEDICAL_HISTORY' | translate }}</a>
      <a class="nav-item" routerLink="/economic-control">{{ 'DASHBOARD.ECONOMIC_CONTROL' | translate }}</a>
      <a class="nav-item" routerLink="/reports">{{ 'DASHBOARD.REPORTS' | translate }}</a>
    </nav>
    <div class="user-section">
      <div class="user-info">
        <div class="user-details">
          <span class="user-name" routerLink="/settings">{{ userName }}</span>
          <span class="animal-count">580 animales</span>
        </div>
        <div class="user-avatar">
          <img src="/assets/img/user-avatar.jpg" alt="User avatar">
        </div>
        <div class="notifications">
          <button class="notification-btn" (click)="toggleNotifications()">
            <i class="notification-icon">üîî</i>
          </button>
        </div>
        
        <app-notifications 
          [isVisible]="showNotifications" 
          (close)="toggleNotifications()">
        </app-notifications>
        <button class="logout-btn" (click)="logout()">Logout</button>
      </div>
      <app-language-switcher class="language-switcher"></app-language-switcher>
    </div>
  </header>

  <main class="main-content">
    <section class="search-section">
      <div class="search-bar">
        <i class="search-icon">üîç</i>
        <input type="text" placeholder="{{ 'MEDICAL_HISTORY.SEARCH' | translate }}">
      </div>
    </section>

    <section class="history-description">
      <p>{{ 'MEDICAL_HISTORY.DESCRIPTION' | translate }}</p>
    </section>

    <div class="medical-history-content">
      <section class="animal-info">
        <div class="animal-image">
          <img [src]="selectedAnimal.imagen" alt="Animal image">
          <div class="animal-id">{{ selectedAnimal.nombre }} #{{ selectedAnimal.id }}</div>
        </div>
        <div class="animal-details">
          <div class="animal-type">
            <i class="star-icon">‚òÖ</i>
            <span>{{ selectedAnimal.tipo }}</span>
          </div>
          <ul class="details-list">
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.BIRTH_DATE' | translate }}: {{ selectedAnimal.fechaNacimiento }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.AGE' | translate }}: {{ selectedAnimal.edad }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.SEX' | translate }}: {{ selectedAnimal.sexo }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.HEALTH_PROBLEMS' | translate }}: {{ selectedAnimal.problemasSalud }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.ZONE' | translate }}: {{ selectedAnimal.zona }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.FEEDING' | translate }}: {{ selectedAnimal.alimentacion }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.WEIGHT' | translate }}: {{ selectedAnimal.peso }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.OFFSPRING' | translate }}: {{ selectedAnimal.crias }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.BIRTHS' | translate }}: {{ selectedAnimal.partos }}</li>
            <li>‚Ä¢ {{ 'MEDICAL_HISTORY.STATUS' | translate }}: {{ selectedAnimal.estado }}</li>
          </ul>
          <button class="edit-btn">{{ 'MEDICAL_HISTORY.EDIT' | translate }}</button>
        </div>
      </section>

      <section class="medical-table-section">
        <table class="medical-table">
          <thead>
            <tr>
              <th>{{ 'MEDICAL_HISTORY.DATE' | translate }}</th>
              <th>{{ 'MEDICAL_HISTORY.EVENT_TYPE' | translate }}</th>
              <th>{{ 'MEDICAL_HISTORY.DESCRIPTION' | translate }}</th>
              <th>{{ 'MEDICAL_HISTORY.VETERINARIAN' | translate }}</th>
              <th>{{ 'MEDICAL_HISTORY.OBSERVATIONS' | translate }}</th>
              <th>{{ 'MEDICAL_HISTORY.ATTACHMENTS' | translate }}</th>
              <th>{{ 'MEDICAL_HISTORY.MORE' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let record of medicalRecords">
              <td>{{ record.fecha }}</td>
              <td>{{ record.tipoEvento }}</td>
              <td>{{ record.descripcion }}</td>
              <td>{{ record.veterinario }}</td>
              <td>{{ record.observaciones }}</td>
              <td>{{ record.adjuntos }}</td>
              <td class="more-cell">
                <button class="more-btn">‚äï</button>
              </td>
            </tr>
          </tbody>
        </table>
        <p class="no-results" *ngIf="medicalRecords.length === 0">{{ 'MEDICAL_HISTORY.NO_RESULTS' | translate }}</p>
      </section>

      <section class="action-buttons">
        <button class="add-visit-btn">{{ 'MEDICAL_HISTORY.ADD_VISIT' | translate }}</button>
        <button class="edit-visit-btn">{{ 'MEDICAL_HISTORY.EDIT_VISIT' | translate }}</button>
        <button class="delete-visit-btn">{{ 'MEDICAL_HISTORY.DELETE_VISIT' | translate }}</button>
      </section>
    </div>
  </main>
  <app-footer-component></app-footer-component>
</div>
  
