<div class="reports-container">
  <app-header-component></app-header-component>
  <main class="main-content">
    <div class="reports-header">
      <h1 class="page-title">{{ 'REPORTS.TITLE' | translate }}</h1>
    </div>

    <div class="reports-grid">
      <div class="report-card" *ngFor="let card of reportCards" [style.--card-color]="card.color">
        <div class="card-header">
          <div class="card-title-section">
            <div class="card-icon">{{ card.icon }}</div>
            <h3 class="card-title">{{ card.title | translate }}</h3>
          </div>
          <div class="card-search">
            <i class="search-icon">üîç</i>
            <!--busqueda mas personalizada SOLO PARA SALUD Y PRODUCCI√ìN-->
            <ng-container *ngIf="card.id === 'health' || card.id === 'production'">
              <input
                type="text"
                placeholder="{{ card.searchPlaceholder | translate }}"
                [attr.list]="'especiesAnimales-' + card.id"
                [(ngModel)]="card.searchTerm"
                (blur)="filterBySpecies(card)"
                (change)="filterBySpecies(card)">
              <datalist [id]="'especiesAnimales-' + card.id">
                <option *ngFor="let especie of especiesTraducidas" [value]="especie"></option>
              </datalist>
            </ng-container>


          </div>
        </div>

        <div class="card-content">
          <div class="stat-display">
            <div class="stat-number" [class.currency]="card.id === 'financial'">
              {{ card.statValue }}<span class="percentage" *ngIf="card.id !== 'financial'">%</span>
            </div>
            <div class="stat-label">{{ card.statLabel | translate }}</div>
          </div>

          <div class="card-filters">
            <div
              class="filter-pill"
              *ngFor="let filter of card.filters"
              [class.selected]="filter.selected"
              (click)="selectFilter(card.id, filter.id)">
              {{ filter.name | translate }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <app-footer-component></app-footer-component>
</div>
